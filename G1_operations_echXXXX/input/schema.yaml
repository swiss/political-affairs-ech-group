id: https://ch.paf.link/schema/operations
name: operations
description: "Meeting Schema for various legislative bodies"
prefixes:
  linkml: https://w3id.org/linkml/
  ops: https://ch.paf.link/schema/operations/
  dcterm: http://purl.org/dc/terms/
imports:
  - linkml:types
default_prefix: ops
default_range: string

classes:

  Container:
    tree_root: true
    slots:
      - id
      - legislatures
      - sessions
      - meetings
      - meeting_items

  MultilingualString:
    slots:
      - text
      - language

  Legislature:
   description: >-
      [en] Term of office of a parliament as a legislative assembly. Usually lasts four years. >-
      [de] Amtsdauer eines Parlaments als gesetzgebender Versammlung. Dauert in der Regel vier Jahre.
    slots:
      - id # technical ID 
      - administrative_id # administrative body of the legislation (muni, canton, country) 
      - name # human readable name
      - description      
      - landing_page # if available link to an url which provides further information
      - actor_id # the political body which is organized by the term of office (Regierungsrat, Nationalrat, Ständerat)
      - begin_date # meta
      - end_date # meta
      - updated_datetime  # meta
      - created_datetime # meta


  Meeting:
    description: >-
      [en] A general meeting class used for Sessions, Comittee Meetings, invidiual session Sittings and other various Meetings. >-
      [de] Eine allgemeine Sitzungsklasse, die für Sessionen, Kommissionssitzungen, Sessionsitzung und andere verschiedene Versammlungen verwendet wird.
    slots:
      - id
      - type  #define enum (session, committee, sitting, various) #sitting=Sessionsitzung, 
      - administrative_id 
      - name
      - landing_page
      - sequential_number # Laufnummer (string, because roman literals etc.)
      - position # integer in line with the sequential_number
      - abbreviation # 
      - actor_name # name of the political body (e.g. "Nationalrat")
      - actor_id 
      - begin_date # planned
      - end_date # planned
      - begin_date_actual
      - end_date_actual
      - state # enum planned, moved, closed etc.
      - state_name # for other state descriptions      
      - description 
      - location # If in person, where the meeting will be held.
      - parent_meeting_id # Meetings are hierarchicaly structured, the linked meeting_id which is grouping the current meeting.
      - parent_legislature_id # Legislation in which the meeting is based.
      - updated_datetime
      - created_datetime
      
  AgendaItem:
    description: >-
      [en] An agenda item of a meeting. >-
      [de] Ein Traktandum einer Sitzung.  
    slots:
      - id
      - meeting_id # the connection of the 
      - type  #traktandum oder Traktandengruppen)
      - date_time
      - date_time_actual
      - number # number (string, because roman literals etc.)
      - position # integer
      - leading_actor_id # Federführendes Departement
      - speaking_actor_id # Sprecher oder Departamentsvorsteher
      - title
      - affair_id # the connection to the affairs (business items) of the agenda item
      - description #Untertitel, Traktandendetails
      - state_id # enum planned, moved, closed etc.
      - state_name # for other state descriptions
      - landing_page # 
      - category # grouped agenda items (e.g. introduction, by department, technical agenda items etc.)
      - parent_agenda_item_id # if needed to build a hierarchy of agenda items
      - resolution # range "Resolution" 
      - updated_datetime
      - created_datetime

JointDebate: 
  description: >-
    [en] Agenda Items which are debated together. >-
    [de] Traktanden die gemeinsam behandelt werden.
  slots:
    - meetingItem

Resolution:
  slots:
    - typ # annahme, ablehnung, kenntnisnahmme, punktweise annahme, annahme mit postulat, mündlich erledigt, beinahe einstimmig
    - vote_procedures # [0:n] 

Vote:
  slots:
    - typ #zwischenabstimmung, schlussabstimmung?
    - TODO: Christian macht ein Vorschlag

slots:

  id:
    identifier: true
    required: true
    slot_uri: dcterm:identifier
  
  body_key:
  
  name:
    range: MultilingualString
    multivalued: true
    inlined_as_list: true
  
  url:
    range: MultilingualString
    multivalued: true
    inlined_as_list: true
  
  number:
  
  abbreviation:
  
  group_name:
  
  group_id:
  
  begin_date:
    range: date

  begin_date_actual:
    range: date
  
  end_date:
    range: date

  end_date_actual:
    range: date

  date_time:
    range: datetime

  date_time_actual:
    range: datetime
  
  state:
    range: state_enum

  status:

  type:
  
  description:
  
  location:

  position:

  result:

  title:

  category:
  
  updated_datetime:
    range: datetime
    description: "The last time this record was updated"
  
  created_datetime:
    range: datetime
    description: "The time this record was created"

  affairs:

  legislatures:
    slot_uri: ops:legislature
    range: Legislature
    multivalued: true
    inlined_as_list: true

  sessions:
    slot_uri: ops:session
    range: Session
    multivalued: true
    inlined_as_list: true
  
  meetings:
    slot_uri: ops:meeting
    range: Meeting
    multivalued: true
    inlined_as_list: true

  meeting_items:
    slot_uri: ops:meetingItem
    range: MeetingItem
    multivalued: true
    inlined_as_list: true
  
  text:
    required: true
  
  language:
    required: true
    description: "Language code in ISO 639-1 format"
    pattern: ^[a-z]{2}$

enums:

  state_enum:
    description: "State of the meeting"
    permissible_values:
      "planned":
        meaning: ops:state/planned
      "canceled":
        meaning: ops:state/canceled
      "postponed":
        meaning: ops:state/postponed
