id: meeting
name: Meeting
description: "Meeting Schema"
prefixes:
  stg: http://example.org/stg/

types:
  Meeting:
    description: "Represents a meeting record"
    attributes:
      meeting_body_key:
        type: string
        description: "Land, Kanton, Gemeinde"
        max_length: 10
      meeting_id:
        type: string
        description: "Technische ID, GUID"
      meeting_name:
        type: string
        description: "Name of the meeting"
        max_length: 512
      meeting_url:
        type: string
        description: "URL of the meeting"
        max_length: 256
      meeting_number:
        type: string
        description: "Sitzung Nr 108"
        max_length: 128
      meeting_abbreviation:
        type: string
        description: "Abbreviation for the meeting"
        max_length: 128
      meeting_group_id:
        type: string
        description: "ID von Kantonsrat, Nationalrat, Kommission"
        max_length: 256
      meeting_begin_date:
        type: date_time
        description: "Start date and time of the meeting"
      meeting_end_date:
        type: date_time
        description: "End date and time of the meeting"
      meeting_state:
        type: string
        description: "geplant, abgeschlossen, abgebrochen, verschoben"
        max_length: 512
      meeting_description:
        type: string
        description: "Description of the meeting"
      meeting_location:
        type: string
        description: "Location of the meeting"
        max_length: 1028
      meeting_type:
        type: string
        description: "Sondersession, Kommissionsitze"
        max_length: 512
      meeting_updated_datetime:
        type: date_time
        description: "Last updated timestamp"
      meeting_created_datetime:
        type: date_time
        description: "Timestamp when the meeting was created"
        default: "current_timestamp"

slots:
  meeting_id:
    range: string
    description: "Primary key for the meeting"
    identifier: true
  meeting_body_key:
    range: string
    description: "Land, Kanton, Gemeinde"
    max_length: 10
  meeting_group_id:
    range: string
    description: "ID von Kantonsrat, Nationalrat, Kommission"
    max_length: 256
  meeting_created_datetime:
    range: date_time
    description: "Timestamp when the meeting was created"
    default: "current_timestamp"

patterns:
  - "idx_unique_body_key_external_id":
      constraints:
        - unique: true
        - attributes: [meeting_body_key, meeting_id]
