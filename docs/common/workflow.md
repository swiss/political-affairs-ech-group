# Documentation Workflow

Manual steps:

- Description of the data schema in YAML using LinkML in the `input` folder of each subgroup in the file `schema.yaml`.
- Generate example data conforming to the schema in the files `data_xyz.yaml` in the `input` folder.
- Write the accompanying documentation in Markdown with files in the form of `1_head.md`, `2_intro.md` (`number_subject.md`) in the `input` folder.

Automated steps (every commit that changes files in the `input` folder triggers a GitHub Action that automatically):

- Generates a schema in JSON and OWL (TTL) format from the `schema.yaml` file and stores it in the `output` folder as `schema.json` and `schema.ttl`.
- Converts the example data in `data_xyz.yaml` to JSON and RDF (TTL) format and stores it in the `output` folder as `data_xyz.json` and `data_xyz.ttl`.
- Generates the documentation using the `linkml-doc` tool. The generated documentation is stored as individual Markdown files in the `output/docs` folder.
- Creates a unified Markdown file from all the files in the `input` folder and stores it as `output/documentation_merged.md`.
- Converts the unified Markdown file from the `output` folder to DOCX using `pandoc` and a `template.docx` file in the `input` folder and stores it in the `output` folder.

## Include Autogenerated Documentation

To include the autogenerated documentation from `output/docs` into the final DOCX document, use the following syntax in the Markdown files in the `input` folder:

`{{include:path_to_md_file}}` e.g. `{{include:tutorial/output/docs/AgendaItem.md}}`

## Subgroup Folder Structure

Each subgroup has its own folder. The folder structure is as follows:

```
subgroup-name/
├── input/
│   ├── schema.yaml
│   ├── data_x.yaml
│   ├── data_y.yaml
│   ├── ...
│   ├── data_z.yaml
│   ├── 1_topic_1.md
│   ├── 2_topic_2.md
│   ├── ...
│   ├── n_topic_n.md
│   ├── template.docx
├── misc/
│   ├── YYMMDD.md (for meeting notes)
│   ├── ...
├── output/
│   ├── docs/
│   ├── data_x.json
│   ├── ...
│   ├── data_x.ttl
│   ├── ...
│   ├── schema.json
│   ├── schema.ttl
│   ├── documentation_merged.md
│   ├── subgroup-name.docx
```

## Tutorial

There is also the folder `tutorial` that demonstrates, how to use the [LinkML](https://linkml.io/linkml/index.html) toolchain to create a data model for the eCH Specialist Group Political Affairs.