id: https://ch.paf.link/schema/operations
name: operations
description: "Meeting Schema for various legislative bodies"
prefixes:
  linkml: https://w3id.org/linkml/
  ops: https://ch.paf.link/schema/operations/
  dcterm: http://purl.org/dc/terms/
imports:
  - linkml:types
default_prefix: ops
default_range: string

classes:

  Container:
    tree_root: true
    slots:
      - id
      - legislatures
      - sessions
      - meetings
      - agenda_items
      - votings
      - elections
      - individual_votes
      - attendances
      - individual_attendances
      - speeches
      - resolutions

  MultilingualString:
    slots:
      - text
      - language

  Legislature:
    description: >-
      [en] Term of office of a parliament as a legislative assembly. Usually lasts four years.
      [de] Amtsdauer eines Parlaments als gesetzgebender Versammlung. Dauert in der Regel vier Jahre.
    slots:
      - id # technical ID 
      - administrative_id # administrative body of the legislation (muni, canton, country) 
      - name # human readable name
      - description      
      - landing_page # if available link to an url which provides further information
      - actor_id # the political body which is organized by the term of office (Regierungsrat, Nationalrat, Ständerat)
      - begin_date # meta
      - end_date # meta
      - updated_datetime  # meta
      - created_datetime # meta


  Session: # A parliamentary session containing multiple meetings
    description: >-
      [en] A parliamentary session that groups multiple meetings and spans a specific time period.
      [de] Eine Parlamentssession, die mehrere Sitzungen gruppiert und sich über einen bestimmten Zeitraum erstreckt.
    slots:
      - id
      - body_key
      - name
      - url
      - begin_date
      - end_date
      - legislature_id
      - meetings
      - updated_datetime
      - created_datetime

  Meeting:
    description: >-
      [en] A general meeting class used for Sessions, Committee Meetings, individual session Sittings and other various Meetings.
      [de] Eine allgemeine Sitzungsklasse, die für Sessionen, Kommissionssitzungen, Sessionsitzung und andere verschiedene Versammlungen verwendet wird.
    slots:
      - id
      - body_key
      - type  # range: meeting_type_enum (session, committee, sitting, various) #sitting=Sessionsitzung, 
      - administrative_id 
      - name
      - url
      - group_name
      - group_id
      - number
      - landing_page
      - sequential_number # Laufnummer (string, because roman literals etc.)
      - position # integer in line with the sequential_number
      - abbreviation # 
      - actor_name # name of the political body (e.g. "Nationalrat")
      - actor_id 
      - begin_date # planned
      - end_date # planned
      - begin_date_actual
      - end_date_actual
      - state # enum planned, moved, closed etc.
      - state_name # for other state descriptions      
      - description 
      - location # If in person, where the meeting will be held.
      - parent_meeting_id # Meetings are hierarchicaly structured, the linked meeting_id which is grouping the current meeting.
      - parent_legislature_id # Legislation in which the meeting is based.
      - updated_datetime
      - created_datetime

# Ein Meeting hat Traktanden und Attendance
# Traktanden können haben:
# - Voting
# - Election
# - Resolution
      
  AgendaItem:
    description: >-
      [en] An agenda item of a meeting.
      [de] Ein Traktandum einer Sitzung.  
    slots:
      - id
      - meeting_id # the connection of the 
      - type  #traktandum oder Traktandengruppen)
      - date_time
      - date_time_actual
      - number # number (string, because roman literals etc.)
      - position # integer
      - leading_actor_id # Federführendes Departement
      - speaking_actor_id # Sprecher oder Departamentsvorsteher
      - title
      - affair_id # the connection to the affairs (business items) of the agenda item
      - description #Untertitel, Traktandendetails
      - state_id # enum planned, moved, closed etc.
      - state_name # for other state descriptions
      - landing_page # 
      - category # grouped agenda items (e.g. introduction, by department, technical agenda items etc.)
      - parent_agenda_item_id # if needed to build a hierarchy of agenda items
      - resolution # range "Resolution" 
      - updated_datetime
      - created_datetime

  JointDebate: 
    description: >-
      [en] Agenda Items which are debated together.
      [de] Traktanden die gemeinsam behandelt werden.
    slots:
      - meeting_item

  Resolution:
    slots:
      - id
      - type # range: resolution_type_enum (annahme, ablehnung, kenntnisnahmme, punktweise annahme, annahme mit postulat, mündlich erledigt, beinahe einstimmig, other)
      - type_label # Wenn nicht standardisiert, dann wird hier der Typ ausgegeben und bei type auf other gesetzt
      - vote_procedures # [0:n] 

  Voting: # Abstimmung
    slots:
      - id # Ratssystem ID / Abstimmungslagen ID
      - datetime_begin # Datum und Zeit Abstimmungsbegin
      - datetime_end # Datum und Zeit Abstimmungsende
      - type # range: voting_type_enum (zwischenabstimmung, schlussabstimmung, Stichentscheid Präsidium?, geheime Wahl/Abstimmung)
      - type_label
      - title #Abstimmungstitel bzw. Gegenstand / Frage. Wenn kein Gegestand vorhanden, dann sollte nicht der Geschäftstitel angegeben werden
      # - optional
      - landing_page # URL für Abstimmungs PDF/HTML
      - label_yes # Bedeutung bei einem Ja
      - label_no # Bedeutung bei einem Nein
      - label_abstention # Bedeutung bei 3 Knopf - Selten belegt mit drei Optionen
      - tie_breaker  # Hat Stichentscheid stattgefunden ja oder nein. Entscheid wird bei Individual Vote mit typ_tie_breaker festgehalten 
      # - values: yes | no
      - total_count_yes    #Standardabstimmung
      - total_count_no      #Standardabstimmung
      - total_count_abstention #Standardabstimmung
      # - total_other  #Verwendung wenn mehrere Varianten zur Wahl gestellt werden (ZH hat 5 Knöpfe), Mehrfach
      # - count
      # - label
      - total_absent # Präsident Abstimmung? # Unterscheidung abwesend/entschuldigt anwesend wird auf Anwesenheitsliste
      - total # Anzahl yes, no, abstention (ohne absent und ohne Präsident)
      - majority_type # Absolutes Mehr oder Zwei-Drittelmehr enum: absolut, two-third, other
      - majority_count # Anzahl des relevanten mehr
      - result_text # freitext zum Beschrieb des Outcomens , z.B. "Mit 78 Stimmen angenommen"
      - meeting_id # Abstimmung gehört zu Meeting
      - agenda_item_ids # Abgestimmung gehört zu Traktandum
      - affairs_ids #
      - actor_id # Gremium (Rat, aber auch Kommission, Landsgemeinde, Volk) 
      - updated_datetime
      - created_datetime

# Handling Präsidiums-Votum wird als eigenes voting aufgenommen



  IndividualVote: # Einzelstimme  / vote individuel
    slots:
      - id
      - voting_id # link zu abstimmung
      - actor_id # Person
      - seat_nr
      - weight # Anzahl Stimmen bei Entscheiden wo eine Person mehrere Stimmen hat
      - type # range: vote_enum (yes, no, abstention, absent, absent_excused, abstention_president, tie_breaker, other)
      - type_label # Anzeige des der Abstimmung (z.B. Für oder Gegen Abstimmungsgegenstand)
      - updated_datetime
      - created_datetime

  Election: # Wahl
    slots:
      - id # Ratssystem ID / Abstimmungslagen ID
      - datetime_begin # Datum und Zeit Abstimmungsbegin
      - datetime_end # Datum und Zeit Abstimmungsende
      - title #Abstimmungstitel bzw. Gegenstand / Frage. Wenn kein Gegestand vorhanden, dann sollte nicht der Geschäftstitel angegeben werden
      # - optional
      - landing_page # URL für Abstimmungs PDF/HTML
      - type # range: election_type_enum (Geheime Wahl, Offene Wahl, Stille Wahl ohne Gegenkandidat)
      - total_absent # Präsident Abstimmung? # Unterscheidung abwesend/entschuldigt anwesend wird auf Anwesenheitsliste
      - total # Anzahl yes, no, abstention (ohne absent und ohne Präsident)
      - majority_type # Absolutes Mehr oder Zwei-Drittelmehr enum: absolut, two-third, other
      - majority_count # Anzahl des relevanten Mehr
      - result_text # freitext zum Beschrieb des Outcomens , z.B. "Gewählt ist Siegenthaler Edith mit 146 Stimmen"
      # - result_category # 
      # - label # enum: Ausgeteilte Wahlzettel / Bulletins distribués, Anzahl eingegangen, Davon leer, Davon ungültig, Davon in Betracht fallend = Gültig?, Absolutes Mehr
      # - count 
      - meeting_id # Abstimmung gehört zu Meeting
      - agenda_item_ids # Abgestimmung gehört zu Traktandum
      - affairs_ids #
      - actor_id # Gremium (Rat, aber auch Kommission, Landsgemeinde, Volk) 
      - updated_datetime
      - created_datetime
# Fazit, wir brauchen hier mehr Expertise für Wahlen in Parlamenten. Sind die immer geheim? #Anfrage UniBe
# Oder können die öffentlich sein (wer hat was gewählt), was bedeutet, dass wir hier auch Einzelstimmen bräuchten.


#Anweseneheiten:
#Kt. Bern: Stempelsystem bei Eintritt (Sitzungsbeginn) in Saal, wird intern erfasst, aber nicht publiziert.
#Anzahl der Anwesendend und entschuldigten wird festgehalten.
#Enschuldigungen gehen vorgängig per Mail ein und werden der Publikation hinzufgefügt.

#Weitere Anweseneheiten wir über Abstimmungen ermittelt. Relevant für Sitzungsgelder:
# (Regelmentarisch festgehalten)
#Thema Beschlussfähgkeit kann beim Bund in Frage gestellt werden und entsprechend gibt es eine erneeute Feststelleung

  Attendance: # Anwesenheits
    slots:
      - id # Ratssystem ID / Abstimmungslagen ID
      - datetime_begin # Datum und Zeit Anwesheitsprüfung
      - actor_id # Gremium (Rat, aber auch Kommission, Landsgemeinde, Volk)
      - total_absent # 
      - total_present #
      - total_excused #

  IndividualAttendance: # Einzel feststellung
    slots:
      - id
      - voting_id # link zu abstimmung
      - actor_id # Person
      - type # range: attendance_type_enum (remote, substitute, present) 
      - updated_datetime
      - created_datetime
 
# Abzklären: Wie funktionieren Stellvertretungen - Kann das abgebildet werden für Abstimmung:
# Relvant für Sitzungsgelderungern.

# Wortmeldungen (Text / Audio / Video)

speech: # Synonym Votum oder speaker_segment (Teil eines AgendaItem)
    slots:
      - id
      - language # (de/fr/mixed)
      - start
      - datetime_begin # Datum und Zeit Wortmeldung
      - datetime_end # Datum und Zeit Wortmeldung
      - actor_fullname
      - actor_id # Check Link mit Politische Akteure & Gremien
      - role # (Kommissionsprecher|im Namen der Kommission) # Offener String
      - text
      - text_format # (text, html, html_with_timestamps per word) # Unterscheidung von HTML und HTML mit Timestampes?
      - text_type #Rohfassung, Bearbeitet (Wird wahrscheinlich nur immer bearbeitete Fassung publiziert)
      - landing_page # Link zu publizierte Fassung
      - media_url
      - media_type (audio|video)
      - media_format: mime-type # wenn bekannt

  
      
  TextSegment: # Titel, text_segment (Quervereise und Zwischentitel, z.B Zusammenfassung eines Votings)
    slots:
      - id
      - text

  Motion: # Teil des Protokoll bzw. auch Traktandum (passiert vorgänging schriftlich), Abstimmungsbedarf mit Geschäfte
    slots:
      - id
      - title
      - description

  Media:  #Media/Dokumente (beinhalten auch Protokolle (PDF/HTML/WORD usw.) oder links zu mp3/mp4) 
    slots:
      - id
      - title
      - type: media
      - url:
      - version:
      - parent_type: (meeting, agenda, speech, affair)

# "data" : [ {

slots:

  id:
    identifier: true
    required: true
    slot_uri: dcterm:identifier
  
  body_key:
  
  name:
    range: MultilingualString
    multivalued: true
    inlined_as_list: true
  
  url:
    range: MultilingualString
    multivalued: true
    inlined_as_list: true
  
  number:
  
  abbreviation:
  
  group_name:
  
  group_id:
  
  begin_date:
    range: date

  begin_date_actual:
    range: date
  
  end_date:
    range: date

  end_date_actual:
    range: date

  date_time:
    range: datetime

  date_time_actual:
    range: datetime
  
  state:
    range: state_enum

  status:

  type:
    description: "Type classification"
  
  description:
  
  location:

  position:

  result:

  title:

  category:
  
  updated_datetime:
    range: datetime
    description: "The last time this record was updated"
  
  created_datetime:
    range: datetime
    description: "The time this record was created"

  affairs:

  legislatures:
    slot_uri: ops:legislature
    range: Legislature
    multivalued: true
    inlined_as_list: true

  sessions:
    slot_uri: ops:session
    range: Session
    multivalued: true
    inlined_as_list: true
  
  meetings:
    slot_uri: ops:meeting
    range: Meeting
    multivalued: true
    inlined_as_list: true

  agenda_items:
    slot_uri: ops:agendaItem
    range: AgendaItem
    multivalued: true
    inlined_as_list: true

  votings:
    slot_uri: ops:voting
    range: Voting
    multivalued: true
    inlined_as_list: true

  elections:
    slot_uri: ops:election
    range: Election
    multivalued: true
    inlined_as_list: true

  individual_votes:
    slot_uri: ops:individualVote
    range: IndividualVote
    multivalued: true
    inlined_as_list: true

  attendances:
    slot_uri: ops:attendance
    range: Attendance
    multivalued: true
    inlined_as_list: true

  individual_attendances:
    slot_uri: ops:individualAttendance
    range: IndividualAttendance
    multivalued: true
    inlined_as_list: true

  speeches:
    slot_uri: ops:speech
    range: Speech
    multivalued: true
    inlined_as_list: true

  resolutions:
    slot_uri: ops:resolution
    range: Resolution
    multivalued: true
    inlined_as_list: true
  
  text:
    required: true
  
  language:
    required: true
    description: "Language code in ISO 639-1 format"
    pattern: ^[a-z]{2}$

  administrative_id:
    description: "Administrative identifier"

  landing_page:
    description: "URL to additional information"

  sequential_number:
    description: "Sequential number (string format to allow roman numerals)"

  actor_name:
    description: "Name of the political body"

  actor_id:
    description: "Reference to political actor"
    range: string  # Will reference Actor class from ech-0294

  parent_meeting_id:
    description: "Parent meeting identifier for hierarchical structure"
    range: Meeting

  parent_legislature_id:
    description: "Parent legislature identifier"
    range: Legislature

  meeting_id:
    description: "Reference to meeting"
    range: Meeting

  leading_actor_id:
    description: "Leading department identifier"

  speaking_actor_id:
    description: "Speaking actor identifier"

  affair_id:
    description: "Connection to affairs/business items"

  parent_agenda_item_id:
    description: "Parent agenda item for hierarchy"
    range: AgendaItem

  meeting_item:
    description: "Meeting item reference (AgendaItem)"
    range: AgendaItem

  vote_procedures:
    description: "Vote procedures"
    multivalued: true

  datetime_begin:
    range: datetime
    description: "Begin date and time"

  datetime_end:
    range: datetime
    description: "End date and time"

  label_yes:
    description: "Meaning of yes vote"

  label_no:
    description: "Meaning of no vote"

  label_abstention:
    description: "Meaning of abstention"

  tie_breaker:
    description: "Whether tie-breaker occurred"

  total_count_yes:
    range: integer
    description: "Total yes votes"

  total_count_no:
    range: integer
    description: "Total no votes"

  total_count_abstention:
    range: integer
    description: "Total abstentions"

  total_absent:
    range: integer
    description: "Total absent"

  total:
    range: integer
    description: "Total votes (excluding absent and president)"

  majority_type:
    description: "Type of majority required"
    range: majority_type_enum

  majority_count:
    range: integer
    description: "Number required for majority"

  result_text:
    description: "Free text description of result"

  agenda_item_ids:
    description: "Related agenda item identifiers"
    multivalued: true

  affairs_ids:
    description: "Related affairs identifiers" 
    multivalued: true

  voting_id:
    description: "Reference to voting"
    range: Voting

  seat_nr:
    description: "Seat number"

  weight:
    range: integer
    description: "Vote weight for multiple votes"

  total_present:
    range: integer
    description: "Total present"

  total_excused:
    range: integer
    description: "Total excused"

  actor_fullname:
    description: "Full name of actor"

  start:
    description: "Start indicator"

  text_format:
    description: "Format of text (text, html, html_with_timestamps)"

  text_type:
    description: "Type of text (raw, edited)"

  legislature_id:
    description: "Reference to legislature"
    range: Legislature

  role:
    description: "Role description"

  state_name:
    description: "State name for other descriptions"

  type_label:
    description: "Type label when not standardized"

  state_id:
    description: "State identifier"

  group_name:
    description: "Name of the political group or body"

  group_id:
    description: "Identifier of the political group or body"

enums:

  state_enum:
    description: "State of the meeting"
    permissible_values:
      "planned":
        meaning: ops:state/planned
      "canceled":
        meaning: ops:state/canceled
      "postponed":
        meaning: ops:state/postponed

  majority_type_enum:
    description: "Type of majority required for voting"
    permissible_values:
      "absolute":
        meaning: ops:majority/absolute
        description: "Absolute majority"
      "two_third":
        meaning: ops:majority/two_third
        description: "Two-thirds majority"
      "other":
        meaning: ops:majority/other
        description: "Other majority type"

  meeting_type_enum:
    description: "Type of meeting"
    permissible_values:
      "session":
        meaning: ops:meeting_type/session
        description: "Parliamentary session"
      "committee":
        meaning: ops:meeting_type/committee
        description: "Committee meeting"
      "sitting":
        meaning: ops:meeting_type/sitting
        description: "Session sitting (Sessionsitzung)"
      "various":
        meaning: ops:meeting_type/various
        description: "Various other meeting types"

  voting_type_enum:
    description: "Type of voting"
    permissible_values:
      "intermediate":
        meaning: ops:voting_type/intermediate
        description: "Intermediate vote (Zwischenabstimmung)"
      "final":
        meaning: ops:voting_type/final
        description: "Final vote (Schlussabstimmung)"
      "tie_breaker":
        meaning: ops:voting_type/tie_breaker
        description: "Tie-breaker vote (Stichentscheid Präsidium)"
      "secret":
        meaning: ops:voting_type/secret
        description: "Secret vote/election"

  vote_enum:
    description: "Individual vote types"
    permissible_values:
      "yes":
        meaning: ops:vote/yes
      "no":
        meaning: ops:vote/no
      "abstention":
        meaning: ops:vote/abstention
      "absent":
        meaning: ops:vote/absent
      "absent_excused":
        meaning: ops:vote/absent_excused
      "abstention_president":
        meaning: ops:vote/abstention_president
      "tie_breaker":
        meaning: ops:vote/tie_breaker
      "other":
        meaning: ops:vote/other

  election_type_enum:
    description: "Type of election"
    permissible_values:
      "secret":
        meaning: ops:election_type/secret
        description: "Secret election (Geheime Wahl)"
      "open":
        meaning: ops:election_type/open
        description: "Open election (Offene Wahl)"
      "silent":
        meaning: ops:election_type/silent
        description: "Silent election without opponent (Stille Wahl ohne Gegenkandidat)"

  resolution_type_enum:
    description: "Type of resolution"
    permissible_values:
      "accepted":
        meaning: ops:resolution/accepted
        description: "Annahme"
      "rejected":
        meaning: ops:resolution/rejected
        description: "Ablehnung"
      "acknowledged":
        meaning: ops:resolution/acknowledged
        description: "Kenntnisnahme"
      "partially_accepted":
        meaning: ops:resolution/partially_accepted
        description: "Punktweise Annahme"
      "accepted_with_postulate":
        meaning: ops:resolution/accepted_with_postulate
        description: "Annahme mit Postulat"
      "orally_resolved":
        meaning: ops:resolution/orally_resolved
        description: "Mündlich erledigt"
      "nearly_unanimous":
        meaning: ops:resolution/nearly_unanimous
        description: "Beinahe einstimmig"
      "other":
        meaning: ops:resolution/other
        description: "Other"

  attendance_type_enum:
    description: "Type of individual attendance"
    permissible_values:
      "remote":
        meaning: ops:attendance/remote
        description: "Remote participation"
      "substitute":
        meaning: ops:attendance/substitute
        description: "Substitute (Stellvertretung)"
      "present":
        meaning: ops:attendance/present
        description: "Present"
